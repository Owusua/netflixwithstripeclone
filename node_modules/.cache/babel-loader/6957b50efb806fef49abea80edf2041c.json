{"ast":null,"code":"import{jsxs as _jsxs}from\"react/jsx-runtime\";import{jsx as _jsx}from\"react/jsx-runtime\";import React,{useEffect}from\"react\";import HomeScreen from\"./screens/HomeScreen\";import\"./App.css\";import LoginScreen from\"./screens/LoginScreen\";import ProfileScreen from\"./screens/ProfileScreen\";import{BrowserRouter as Router,Switch,Route}from\"react-router-dom\";import{auth}from\"./firebase\";import{useDispatch,useSelector}from\"react-redux\";import{logout,login,selectUser}from\"./features/userSlice\";function App(){var user=useSelector(selectUser);var dispatch=useDispatch();useEffect(function(){//this listens to any authentication changes\nvar unsubscribe=auth.onAuthStateChanged(function(userAuth){if(userAuth){dispatch(login({uid:userAuth.uid,email:userAuth.email}));}else{//logged out\ndispatch(logout());}});return unsubscribe;},[dispatch]);return/*#__PURE__*/_jsx(\"div\",{className:\"app\",children:/*#__PURE__*/_jsx(Router,{children:!user?/*#__PURE__*/_jsx(LoginScreen,{}):/*#__PURE__*/_jsxs(Switch,{children:[/*#__PURE__*/_jsx(Route,{path:\"/profile\",children:/*#__PURE__*/_jsx(ProfileScreen,{})}),/*#__PURE__*/_jsx(Route,{exact:true,path:\"/\",children:/*#__PURE__*/_jsx(HomeScreen,{})})]})})});}export default App;","map":{"version":3,"sources":["/home/owusua/Videos/mynetflix-clone-papa/src/App.js"],"names":["React","useEffect","HomeScreen","LoginScreen","ProfileScreen","BrowserRouter","Router","Switch","Route","auth","useDispatch","useSelector","logout","login","selectUser","App","user","dispatch","unsubscribe","onAuthStateChanged","userAuth","uid","email"],"mappings":"wFAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,KAAiC,OAAjC,CACA,MAAOC,CAAAA,UAAP,KAAuB,sBAAvB,CACA,MAAO,WAAP,CACA,MAAOC,CAAAA,WAAP,KAAwB,uBAAxB,CACA,MAAOC,CAAAA,aAAP,KAA0B,yBAA1B,CACA,OAASC,aAAa,GAAIC,CAAAA,MAA1B,CAAkCC,MAAlC,CAA0CC,KAA1C,KAAuD,kBAAvD,CACA,OAASC,IAAT,KAAqB,YAArB,CACA,OAASC,WAAT,CAAsBC,WAAtB,KAAyC,aAAzC,CACA,OAASC,MAAT,CAAiBC,KAAjB,CAAwBC,UAAxB,KAA0C,sBAA1C,CAEA,QAASC,CAAAA,GAAT,EAAe,CACb,GAAMC,CAAAA,IAAI,CAAGL,WAAW,CAACG,UAAD,CAAxB,CACA,GAAMG,CAAAA,QAAQ,CAAGP,WAAW,EAA5B,CAEAT,SAAS,CAAC,UAAM,CACd;AACA,GAAMiB,CAAAA,WAAW,CAAGT,IAAI,CAACU,kBAAL,CAAwB,SAACC,QAAD,CAAc,CACxD,GAAIA,QAAJ,CAAc,CACZH,QAAQ,CACNJ,KAAK,CAAC,CACJQ,GAAG,CAAED,QAAQ,CAACC,GADV,CAEJC,KAAK,CAAEF,QAAQ,CAACE,KAFZ,CAAD,CADC,CAAR,CAMD,CAPD,IAOO,CACL;AACAL,QAAQ,CAACL,MAAM,EAAP,CAAR,CACD,CACF,CAZmB,CAApB,CAaA,MAAOM,CAAAA,WAAP,CACD,CAhBQ,CAgBN,CAACD,QAAD,CAhBM,CAAT,CAiBA,mBACE,YAAK,SAAS,CAAC,KAAf,uBACE,KAAC,MAAD,WACG,CAACD,IAAD,cACC,KAAC,WAAD,IADD,cAGC,MAAC,MAAD,yBACE,KAAC,KAAD,EAAO,IAAI,CAAC,UAAZ,uBACE,KAAC,aAAD,IADF,EADF,cAIE,KAAC,KAAD,EAAO,KAAK,KAAZ,CAAa,IAAI,CAAC,GAAlB,uBACE,KAAC,UAAD,IADF,EAJF,GAJJ,EADF,EADF,CAkBD,CAED,cAAeD,CAAAA,GAAf","sourcesContent":["import React, { useEffect } from \"react\";\r\nimport HomeScreen from \"./screens/HomeScreen\";\r\nimport \"./App.css\";\r\nimport LoginScreen from \"./screens/LoginScreen\";\r\nimport ProfileScreen from \"./screens/ProfileScreen\";\r\nimport { BrowserRouter as Router, Switch, Route } from \"react-router-dom\";\r\nimport { auth } from \"./firebase\";\r\nimport { useDispatch, useSelector } from \"react-redux\";\r\nimport { logout, login, selectUser } from \"./features/userSlice\";\r\n\r\nfunction App() {\r\n  const user = useSelector(selectUser);\r\n  const dispatch = useDispatch();\r\n\r\n  useEffect(() => {\r\n    //this listens to any authentication changes\r\n    const unsubscribe = auth.onAuthStateChanged((userAuth) => {\r\n      if (userAuth) {\r\n        dispatch(\r\n          login({\r\n            uid: userAuth.uid,\r\n            email: userAuth.email,\r\n          })\r\n        );\r\n      } else {\r\n        //logged out\r\n        dispatch(logout());\r\n      }\r\n    });\r\n    return unsubscribe;\r\n  }, [dispatch]);\r\n  return (\r\n    <div className=\"app\">\r\n      <Router>\r\n        {!user ? (\r\n          <LoginScreen />\r\n        ) : (\r\n          <Switch>\r\n            <Route path=\"/profile\">\r\n              <ProfileScreen />\r\n            </Route>\r\n            <Route exact path=\"/\">\r\n              <HomeScreen />\r\n            </Route>\r\n          </Switch>\r\n        )}\r\n      </Router>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default App;\r\n"]},"metadata":{},"sourceType":"module"}